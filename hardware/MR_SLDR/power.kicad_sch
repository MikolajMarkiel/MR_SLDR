(kicad_sch (version 20230121) (generator eeschema)

  (uuid 36e8f0d2-e724-4687-89d3-fbd1a0df13f2)

  (paper "A4")

  (lib_symbols
    (symbol "Connector:USB_B_Micro" (pin_names (offset 1.016)) (in_bom yes) (on_board yes)
      (property "Reference" "J" (at -5.08 11.43 0)
        (effects (font (size 1.27 1.27)) (justify left))
      )
      (property "Value" "USB_B_Micro" (at -5.08 8.89 0)
        (effects (font (size 1.27 1.27)) (justify left))
      )
      (property "Footprint" "" (at 3.81 -1.27 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "~" (at 3.81 -1.27 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "connector USB micro" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "USB Micro Type B connector" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_fp_filters" "USB*" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "USB_B_Micro_0_1"
        (rectangle (start -5.08 -7.62) (end 5.08 7.62)
          (stroke (width 0.254) (type default))
          (fill (type background))
        )
        (circle (center -3.81 2.159) (radius 0.635)
          (stroke (width 0.254) (type default))
          (fill (type outline))
        )
        (circle (center -0.635 3.429) (radius 0.381)
          (stroke (width 0.254) (type default))
          (fill (type outline))
        )
        (rectangle (start -0.127 -7.62) (end 0.127 -6.858)
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (polyline
          (pts
            (xy -1.905 2.159)
            (xy 0.635 2.159)
          )
          (stroke (width 0.254) (type default))
          (fill (type none))
        )
        (polyline
          (pts
            (xy -3.175 2.159)
            (xy -2.54 2.159)
            (xy -1.27 3.429)
            (xy -0.635 3.429)
          )
          (stroke (width 0.254) (type default))
          (fill (type none))
        )
        (polyline
          (pts
            (xy -2.54 2.159)
            (xy -1.905 2.159)
            (xy -1.27 0.889)
            (xy 0 0.889)
          )
          (stroke (width 0.254) (type default))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 0.635 2.794)
            (xy 0.635 1.524)
            (xy 1.905 2.159)
            (xy 0.635 2.794)
          )
          (stroke (width 0.254) (type default))
          (fill (type outline))
        )
        (polyline
          (pts
            (xy -4.318 5.588)
            (xy -1.778 5.588)
            (xy -2.032 4.826)
            (xy -4.064 4.826)
            (xy -4.318 5.588)
          )
          (stroke (width 0) (type default))
          (fill (type outline))
        )
        (polyline
          (pts
            (xy -4.699 5.842)
            (xy -4.699 5.588)
            (xy -4.445 4.826)
            (xy -4.445 4.572)
            (xy -1.651 4.572)
            (xy -1.651 4.826)
            (xy -1.397 5.588)
            (xy -1.397 5.842)
            (xy -4.699 5.842)
          )
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (rectangle (start 0.254 1.27) (end -0.508 0.508)
          (stroke (width 0.254) (type default))
          (fill (type outline))
        )
        (rectangle (start 5.08 -5.207) (end 4.318 -4.953)
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (rectangle (start 5.08 -2.667) (end 4.318 -2.413)
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (rectangle (start 5.08 -0.127) (end 4.318 0.127)
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (rectangle (start 5.08 4.953) (end 4.318 5.207)
          (stroke (width 0) (type default))
          (fill (type none))
        )
      )
      (symbol "USB_B_Micro_1_1"
        (pin power_out line (at 7.62 5.08 180) (length 2.54)
          (name "VBUS" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
        (pin bidirectional line (at 7.62 -2.54 180) (length 2.54)
          (name "D-" (effects (font (size 1.27 1.27))))
          (number "2" (effects (font (size 1.27 1.27))))
        )
        (pin bidirectional line (at 7.62 0 180) (length 2.54)
          (name "D+" (effects (font (size 1.27 1.27))))
          (number "3" (effects (font (size 1.27 1.27))))
        )
        (pin passive line (at 7.62 -5.08 180) (length 2.54)
          (name "ID" (effects (font (size 1.27 1.27))))
          (number "4" (effects (font (size 1.27 1.27))))
        )
        (pin power_out line (at 0 -10.16 90) (length 2.54)
          (name "GND" (effects (font (size 1.27 1.27))))
          (number "5" (effects (font (size 1.27 1.27))))
        )
        (pin passive line (at -2.54 -10.16 90) (length 2.54)
          (name "Shield" (effects (font (size 1.27 1.27))))
          (number "6" (effects (font (size 1.27 1.27))))
        )
      )
    )
    (symbol "Regulator_Linear:AMS1117-3.3" (in_bom yes) (on_board yes)
      (property "Reference" "U" (at -3.81 3.175 0)
        (effects (font (size 1.27 1.27)))
      )
      (property "Value" "AMS1117-3.3" (at 0 3.175 0)
        (effects (font (size 1.27 1.27)) (justify left))
      )
      (property "Footprint" "Package_TO_SOT_SMD:SOT-223-3_TabPin2" (at 0 5.08 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "http://www.advanced-monolithic.com/pdf/ds1117.pdf" (at 2.54 -6.35 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "linear regulator ldo fixed positive" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "1A Low Dropout regulator, positive, 3.3V fixed output, SOT-223" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_fp_filters" "SOT?223*TabPin2*" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "AMS1117-3.3_0_1"
        (rectangle (start -5.08 -5.08) (end 5.08 1.905)
          (stroke (width 0.254) (type default))
          (fill (type background))
        )
      )
      (symbol "AMS1117-3.3_1_1"
        (pin power_in line (at 0 -7.62 90) (length 2.54)
          (name "GND" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
        (pin power_out line (at 7.62 0 180) (length 2.54)
          (name "VO" (effects (font (size 1.27 1.27))))
          (number "2" (effects (font (size 1.27 1.27))))
        )
        (pin power_in line (at -7.62 0 0) (length 2.54)
          (name "VI" (effects (font (size 1.27 1.27))))
          (number "3" (effects (font (size 1.27 1.27))))
        )
      )
    )
    (symbol "power:GND" (power) (pin_names (offset 0)) (in_bom yes) (on_board yes)
      (property "Reference" "#PWR" (at 0 -6.35 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Value" "GND" (at 0 -3.81 0)
        (effects (font (size 1.27 1.27)))
      )
      (property "Footprint" "" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "global power" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "Power symbol creates a global label with name \"GND\" , ground" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "GND_0_1"
        (polyline
          (pts
            (xy 0 0)
            (xy 0 -1.27)
            (xy 1.27 -1.27)
            (xy 0 -2.54)
            (xy -1.27 -1.27)
            (xy 0 -1.27)
          )
          (stroke (width 0) (type default))
          (fill (type none))
        )
      )
      (symbol "GND_1_1"
        (pin power_in line (at 0 0 270) (length 0) hide
          (name "GND" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
      )
    )
  )

  (junction (at 44.45 121.92) (diameter 0) (color 0 0 0 0)
    (uuid 890084db-f6ad-4c40-b1dc-fe25ba2a7266)
  )

  (wire (pts (xy 41.91 121.92) (xy 44.45 121.92))
    (stroke (width 0) (type default))
    (uuid 00e1313a-ce20-43c2-9d60-74f82b86523d)
  )
  (wire (pts (xy 44.45 121.92) (xy 44.45 125.73))
    (stroke (width 0) (type default))
    (uuid 1091c775-eb85-4c50-aad1-382d206f2e4e)
  )
  (wire (pts (xy 41.91 109.22) (xy 41.91 121.92))
    (stroke (width 0) (type default))
    (uuid 3e1eb225-c6b0-4f54-a97b-389fb9dd25b2)
  )
  (wire (pts (xy 52.07 99.06) (xy 59.69 99.06))
    (stroke (width 0) (type default))
    (uuid 44fd4f9a-74a9-465f-b0aa-1d929ea469e8)
  )
  (wire (pts (xy 52.07 101.6) (xy 59.69 101.6))
    (stroke (width 0) (type default))
    (uuid 518b26d3-4f90-423c-ade4-598651609d47)
  )
  (wire (pts (xy 52.07 93.98) (xy 59.69 93.98))
    (stroke (width 0) (type default))
    (uuid 53b78df2-6752-48b5-b30a-1ef4ca875e14)
  )
  (wire (pts (xy 44.45 121.92) (xy 52.07 121.92))
    (stroke (width 0) (type default))
    (uuid 79e2975f-3636-44d9-b3d7-bb1c6667dddc)
  )
  (wire (pts (xy 44.45 109.22) (xy 44.45 121.92))
    (stroke (width 0) (type default))
    (uuid d64503d0-4058-458b-b9de-1c177675d227)
  )
  (wire (pts (xy 127 151.13) (xy 138.43 151.13))
    (stroke (width 0) (type default))
    (uuid d8dc25b3-ded2-4a23-a42e-b214bdca9cca)
  )

  (rectangle (start 191.77 43.18) (end 223.52 73.66)
    (stroke (width 0) (type default))
    (fill (type none))
    (uuid 534c087a-34dd-40b7-8946-1168e9d2ac0d)
  )
  (rectangle (start 104.14 86.36) (end 135.89 116.84)
    (stroke (width 0) (type default))
    (fill (type none))
    (uuid 6756fdb1-d184-443b-ad30-8838d1201f4a)
  )
  (rectangle (start 149.86 43.18) (end 181.61 73.66)
    (stroke (width 0) (type default))
    (fill (type none))
    (uuid 75e5004e-f09e-408f-9c61-47aab6dae67c)
  )
  (rectangle (start 104.14 43.18) (end 135.89 73.66)
    (stroke (width 0) (type default))
    (fill (type none))
    (uuid 9540a3de-654a-4c92-9064-169d9ec913a5)
  )

  (text "12V-5V\nStep down" (at 110.49 62.23 0)
    (effects (font (size 2.54 2.54)) (justify left bottom))
    (uuid 56355a57-26de-4ee7-98cf-02418f6a035a)
  )
  (text "5V - 3V3\nLin regul." (at 110.49 137.16 0)
    (effects (font (size 2.54 2.54)) (justify left bottom))
    (uuid 7015b84d-b354-4a94-a86d-9dc29e32a4b3)
  )
  (text "BMS 3 cells\n   Li-ion" (at 153.67 62.23 0)
    (effects (font (size 2.54 2.54)) (justify left bottom))
    (uuid bcbda9ec-5527-4d6e-a71f-0e62d77b8424)
  )
  (text " 3 cells\nconnector\n" (at 198.12 62.23 0)
    (effects (font (size 2.54 2.54)) (justify left bottom))
    (uuid d91df614-7e21-4e94-9477-dc88f4e2a8bd)
  )
  (text "5V-12V\nStep up" (at 110.49 105.41 0)
    (effects (font (size 2.54 2.54)) (justify left bottom))
    (uuid e162d245-967d-42da-a960-08d01d400041)
  )

  (hierarchical_label "+3V3_DC" (shape input) (at 138.43 151.13 0) (fields_autoplaced)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid 0779a7f4-9ee1-4c2b-921c-6944f4aff3e8)
  )
  (hierarchical_label "USB_D+" (shape input) (at 59.69 99.06 0) (fields_autoplaced)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid 0feaf9bc-e7b1-4746-870b-07bcfc35ac1a)
  )
  (hierarchical_label "+12V_DC" (shape input) (at 219.71 114.3 0) (fields_autoplaced)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid 6d5a20bd-407e-4828-b811-37ce5ec86f0f)
  )
  (hierarchical_label "GND" (shape input) (at 52.07 121.92 0) (fields_autoplaced)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid 7f1414ee-73f7-4bb9-8195-f5baa1d90ebf)
  )
  (hierarchical_label "USB_D-" (shape input) (at 59.69 101.6 0) (fields_autoplaced)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid 8b92f3bf-f9d1-468e-af8b-adedc845da16)
  )
  (hierarchical_label "+5V_DC" (shape input) (at 59.69 93.98 0) (fields_autoplaced)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid b6800a69-260e-40cc-97ec-4b57ee4c1549)
  )

  (symbol (lib_id "Regulator_Linear:AMS1117-3.3") (at 119.38 151.13 0) (unit 1)
    (in_bom yes) (on_board yes) (dnp no) (fields_autoplaced)
    (uuid 1fd849f8-ff83-4dc1-bbc3-9d0afd1434c7)
    (property "Reference" "U3" (at 119.38 144.78 0)
      (effects (font (size 1.27 1.27)))
    )
    (property "Value" "AMS1117-3.3" (at 119.38 147.32 0)
      (effects (font (size 1.27 1.27)))
    )
    (property "Footprint" "Package_TO_SOT_SMD:SOT-223-3_TabPin2" (at 119.38 146.05 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "http://www.advanced-monolithic.com/pdf/ds1117.pdf" (at 121.92 157.48 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid d157b678-c787-43e5-a1cb-3c1c3f3a1340))
    (pin "2" (uuid b72c4751-81c2-4bcc-aa20-8da9a65f6d42))
    (pin "3" (uuid a9527e89-65fe-45cf-8d25-17e2fdb3ad5e))
    (instances
      (project "MR_SLDR"
        (path "/3ff9790f-89a8-4b23-bcfb-08def7c2e125"
          (reference "U3") (unit 1)
        )
        (path "/3ff9790f-89a8-4b23-bcfb-08def7c2e125/8d0833ed-b8ee-4c6a-a287-86fd6b5e142a"
          (reference "U3") (unit 1)
        )
      )
    )
  )

  (symbol (lib_id "power:GND") (at 44.45 125.73 0) (unit 1)
    (in_bom yes) (on_board yes) (dnp no) (fields_autoplaced)
    (uuid 98a14c22-81a3-401d-8b2e-ae096b15f2e7)
    (property "Reference" "#PWR01" (at 44.45 132.08 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Value" "GND" (at 44.45 130.81 0)
      (effects (font (size 1.27 1.27)))
    )
    (property "Footprint" "" (at 44.45 125.73 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "" (at 44.45 125.73 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid 14dc511a-cf6e-45ef-b0be-f5c7b3b30e44))
    (instances
      (project "MR_SLDR"
        (path "/3ff9790f-89a8-4b23-bcfb-08def7c2e125/8d0833ed-b8ee-4c6a-a287-86fd6b5e142a"
          (reference "#PWR01") (unit 1)
        )
      )
    )
  )

  (symbol (lib_id "Connector:USB_B_Micro") (at 44.45 99.06 0) (unit 1)
    (in_bom yes) (on_board yes) (dnp no) (fields_autoplaced)
    (uuid d1d48322-7eda-420b-850d-b4b434062363)
    (property "Reference" "J1" (at 44.45 87.63 0)
      (effects (font (size 1.27 1.27)))
    )
    (property "Value" "USB_B_Micro" (at 44.45 90.17 0)
      (effects (font (size 1.27 1.27)))
    )
    (property "Footprint" "" (at 48.26 100.33 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "~" (at 48.26 100.33 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid 45e91df5-153c-481e-8a35-22cae6d87124))
    (pin "2" (uuid d618aa0e-beaf-4b20-a047-057bd246531f))
    (pin "3" (uuid 4956386d-33e6-4a1b-92d1-4613a467b725))
    (pin "4" (uuid 97d6efb1-6de1-486a-a9b0-afc77d0548d5))
    (pin "5" (uuid 4e979f66-6745-4c9c-b995-a70aebd30f15))
    (pin "6" (uuid ecf33461-3785-416e-8766-1ca7ce678c54))
    (instances
      (project "MR_SLDR"
        (path "/3ff9790f-89a8-4b23-bcfb-08def7c2e125"
          (reference "J1") (unit 1)
        )
        (path "/3ff9790f-89a8-4b23-bcfb-08def7c2e125/8d0833ed-b8ee-4c6a-a287-86fd6b5e142a"
          (reference "J1") (unit 1)
        )
      )
    )
  )
)
